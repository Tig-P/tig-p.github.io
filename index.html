<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>주식 리스크 관리 계산기</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>주식 리스크 관리 계산기</h1>
        <p class="description">매매 진입 전 손익비와 적정 매수 수량을 계산하여 원칙있는 투자를 돕습니다.</p>

        <div class="input-group">
            <label for="total-capital">총 투자금 (원)</label>
            <input type="number" id="total-capital" placeholder="예: 10,000,000">
        </div>

        <div class="input-group">
            <label>투자 비중 선택</label>
            <div id="leverage-buttons" class="leverage-buttons">
                <button class="leverage-btn" data-value="0.25">25%</button>
                <button class="leverage-btn" data-value="0.5">50%</button>
                <button class="leverage-btn" data-value="0.75">75%</button>
                <button class="leverage-btn" data-value="1">100%</button>
            </div>
            <div class="leverage-slider-container">
                <input type="range" id="leverage-slider" min="1" max="100" value="100">
                <span id="leverage-slider-value">100%</span>
            </div>
            <div class="investment-display">
                <strong>실제 투입금액:</strong>
                <span id="investment-amount">0</span> 원
            </div>
        </div>

        <div class="input-group">
            <label for="entry-price">진입 가격 (원)</label>
            <input type="number" id="entry-price" placeholder="매수하려는 가격">
        </div>
        <div class="input-group">
            <label for="risk-percent">감수할 손실률 (%)</label>
            <input type="number" id="risk-percent" placeholder="예: 2">
        </div>
        <div class="input-group">
            <label for="stop-loss-price">손절 가격 (원) <span class="auto-calc-label">(자동 계산)</span></label>
            <input type="number" id="stop-loss-price" placeholder="진입가와 손실률 입력 시 자동 계산">
        </div>

        <div class="input-group">
            <label for="rr-ratio-select">목표 손익비 선택</label>
            <select id="rr-ratio-select">
                <option value="custom">직접 입력</option>
                <option value="1">1 : 1</option>
                <option value="1.5">1.5 : 1</option>
                <option value="2">2 : 1 (권장)</option>
                <option value="3">3 : 1</option>
            </select>
        </div>

        <div class="input-group">
            <label for="take-profit-percent">목표 수익률 (%) <span class="auto-calc-label">(자동 계산)</span></label>
            <input type="number" id="take-profit-percent" placeholder="예: 4">
        </div>
        <div class="input-group">
            <label for="take-profit-price">목표 가격 (원) <span class="auto-calc-label">(자동 계산)</span></label>
            <input type="number" id="take-profit-price" placeholder="진입가와 수익률 입력 시 자동 계산">
        </div>

        <button id="calculate-btn">계산하기</button>

        <div id="result" class="hidden">
            <h2>계산 결과</h2>
            <p><strong>총 감수할 손실액:</strong> <span id="max-loss-amount"></span>원</p>
            <p><strong>주당 손실 가능 금액:</strong> <span id="loss-per-share"></span>원</p>
            <p><strong>적정 매수 수량:</strong> <span id="position-size"></span>주</p>
            <hr>
            <p><strong>예상 수익률:</strong> <span id="potential-gain-percent"></span>%</p>
            <p><strong>예상 손실률:</strong> <span id="potential-loss-percent"></span>%</p>
            <p class="highlight"><strong>손익비 (수익:손실):</strong> <span id="risk-reward-ratio"></span></p>
            <div id="trade-advice"></div>
        </div>
        
        <div class="donation">
            <p>이 툴이 도움이 되셨다면 커피 한 잔 어떠신가요? ☕️</p>
            <p class="small-text">아래 QR코드를 스캔하여 카카오페이로 후원할 수 있습니다.</p>
            <img src="qrcode.png" alt="카카오페이 후원 QR코드" class="qr-code-img">
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
